
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Parallel Coordinates Plots &#8212; Reed group lab manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'FigureLibrary/ParallelCoordinatesPlots';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Synthetic Streamflow Diagnostic Figure Library" href="synthetic_generation_diagnostics.html" />
    <link rel="prev" title="Figure Library" href="FigureLibrary.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Reed group lab manual - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Reed group lab manual - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to our lab manual!
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../GraduateStudentResources/GraduateStudentResources.html">Graduate Student Resources</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/LifeAtCornell.html">Housing Around Cornell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/VisitingScholars.html">A guide to Ithaca and Cornell for Visiting Scholars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/Courses.html">Course List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/Conferences.html">Conferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/PresentationTemplates.html">Presentation Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/WritingProcess.html">Writing your first paper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/BlogPost.html">Contributing to the Water Programming Blog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/PaperRepoTemplates.html">Paper Repository Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/Scheduling.html">Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/Organization.html">Organizational Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/CitationReferenceManagementTools.html">Citation and Reference Management Tools</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ComputationalResources/ComputationalResources.html">Computational Resources</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/ClusterBasics.html">Cluster Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/python_crash_course.html">Crash Course in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/Machine_Learning_Resources.html">Machine Learning Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/IntroToLinux.html">Introduction to Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/IntroToGitHub.html">Introduction to Git &amp; GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/MetaRepos.html">Creating and Using GitHub Meta Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputationalResources/Websites.html">Building and deploying websites with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GraduateStudentResources/LongTermStorage.html">Long Term Storage</a></li>


</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Software/Software.html">Software</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Software/BorgMOEA.html">Borg MOEA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/WaterPaths.html">WaterPaths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/PywrDRB.html">Pywr-DRB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/CALFEWS.html">CALFEWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/SALib.html">SALib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/Rhodium.html">Rhodium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/MOEAFramework.html">MOEA Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/J3.html">J3 Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software/statemodify.html">statemodify</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Training/Training.html">Training</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Training/Schedule.html">Suggested training schedule</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/BorgMOEADiagnostics.html">Borg and MOEA Diagnostics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/BorgMOEADiagnostics/Linux_MOEAs_HPC.html">Getting starting with MOEAs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/BorgMOEADiagnostics/MOEADiagnostics.html">Introduction to MOEA Diagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/BorgMOEADiagnostics/BorgRuntimeDiagnosticsTraining.html">Multi-Master Borg MOEA Parallel Scaling Diagnotics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/BorgMOEADiagnostics/AdvancedBorgDiagnostics.html">The Advanced Guide to Borg MOEA and Its Diagnostics</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/IntroCaseStudies.html">Introductory Case Studies</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/IntroCaseStudies/LakeProblem.html">The Shallow Lake Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/IntroCaseStudies/FisheriesGame.html">The Fisheries Game</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/SDSA.html">Scenario Discovery and Sensitivity Analysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/SDSA/timevaryingSAtraining.html">Time-Varying Sensitivity Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/SDSA/intro_to_scenario_discovery.html">Intro to Scenario Discovery</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/SyntheticDataGeneration.html">Synthetic Data Generation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/SyntheticDataGeneration/SyntheticStreamflowGeneration.html">Synthetic Streamflow Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/SyntheticDataGeneration/SyntheticWeatherGeneration.html">Synthetic Weather Generation</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/AdvancedMethodsCases.html">Advanced Methods and Case Studies</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/AdvancedMethodsCases/pywrdrb_training.html">Pywr-DRB Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/AdvancedMethodsCases/WaterPaths_Training.html">WaterPaths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/AdvancedMethodsCases/StateModTraining.html">Getting Started with StateMod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/AdvancedMethodsCases/QPPQStreamflowPrediction.html">QPPQ Streamflow Prediction in Ungauged Basins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Training/AdvancedMethodsCases/intro_mordm.html">Intro to MORDM</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/DataManagement.html">Data Management</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../Training/DataManagement/DataCompression.html">Data types and compression methods</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Training/CreativeToolsAccess.html">Creative Tools and Software</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="FigureLibrary.html">Figure Library</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Parallel Coordinates Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthetic_generation_diagnostics.html">Synthetic Streamflow Diagnostic Figure Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="scatterplot_colorbar.html">Scatter plots and colorbars using Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="scatter_threedim.html">3D scatter plots, point sizes, and positioning legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="MOEADiagnostics.html">MOEA Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="T-cup_diagrams.html">T-cup diagrams</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="SpatialPlotting/SpatialPlottingtoc.html">Spatial Plotting</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="SpatialPlotting/MakingWatershedMaps.html">Making Watershed Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="SpatialPlotting/ClipRasterWithShapefile.html">Clipping Raster Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="SpatialPlotting/TimeEvolvingAnimatedMaps.html">Animated Spatial Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="SpatialPlotting/ChoroplethMaps.html">Choropleth maps</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Contributing/Contributing.html">Contributing to this lab manual</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Instructions.html">Instructions on contributing to the lab manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/mdExample.html">Markdown example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/nbExample.html">Jupyter notebook example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/training_template.html">Training Title</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/FAQs.html">Frequently-asked questions (FAQs)</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../WaterProgramming/waterprogramming_post_catalog.html">Water Programming Blog Post Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PaperRepositories/repositories.html">List of Paper Repositories</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/reedgroup/reedgroup.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/reedgroup/reedgroup.github.io/issues/new?title=Issue%20on%20page%20%2FFigureLibrary/ParallelCoordinatesPlots.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/FigureLibrary/ParallelCoordinatesPlots.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Parallel Coordinates Plots</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions-for-flexible-parallel-coordinates-plots">Functions for flexible parallel coordinates plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-application">Example application</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="parallel-coordinates-plots">
<h1>Parallel Coordinates Plots<a class="headerlink" href="#parallel-coordinates-plots" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>Parallel coordinates plots (also known as parallel axis plots) are a common way to visualize many-dimensional data. There are many different tools that can be used to create parallel coordinates plots in Python. For example, Pandas has a built-in version, as demonstrated in the <a class="reference external" href="https://reedgroup.github.io/FigureLibrary/MOEADiagnostics.html">MOEA Diagnostics page</a> of this manual. There are also many different posts on the Water Programming Blog that demonstrate different ways to create parallel coordinates plots in Python as well as several GUI-based visualization engines (e.g., <a class="reference external" href="https://waterprogramming.wordpress.com/2020/11/09/parallel-axis-plots-for-the-absolute-beginner/">Lau 2020</a>, <a class="reference external" href="https://waterprogramming.wordpress.com/2022/09/14/fisheries-training-part-2-tradeoff-visualization-and-introduction-to-j3/">Lau 2022</a>, <a class="reference external" href="https://waterprogramming.wordpress.com/2020/08/10/using-rhodium-for-exploratory-modeling/">Dircks 2020</a>, <a class="reference external" href="https://waterprogramming.wordpress.com/2018/05/18/creating-parallel-axis-plots-with-multiple-datasets-color-gradients-and-brushing-in-python/">Trindade 2018</a>, <a class="reference external" href="https://waterprogramming.wordpress.com/2018/11/05/introduction-to-discoverydv/">Gupta 2018</a>, and more).</p>
<p>So why the need for yet another page on parallel coordinates plots? In my experience, the pre-packaged functions for creating these plots (e.g., Pandas) are great for getting a quick-and-dirty look at the data, but they are insufficiently flexible to create more complex and aesthetically pleasing figures. When it comes time to create figures for papers and presentations, I have generally had to start from scratch to create a parallel coordinates plot that suits my particular needs at the time. I imagine this is true for many other researchers as well. This process can be tedious, especially when there is a need to create several distinct versions of a figure, such as when coloring along different axes, or when creating multiple “brushing” scenarios where solutions are filtered out based on satisficing criteria.</p>
<p>Over the years, I have developed a set of functions for creating different types of parallel coordinates plots. The goal of this page is to present these functions with the hope that they will facilitate the creation of flexible and attractive parallel coordinates plots for other researchers. The functions below are capable of applying a range of customizations, such as:</p>
<ol class="arabic simple">
<li><p>Automatic normalization of data consistent with user-selected direction of preference for parallel axes (“top” or “bottom”) and user-selected direction of optimization preference for each axis (“min” or “max”)</p></li>
<li><p>Support for user-defined continuous or categorical color palettes, and choice of which variable to color lines by. Automated legend creation based on continuous or categorical palette.</p></li>
<li><p>Choice of which axis to order lines by (i.e., how to stack overlapping lines)</p></li>
<li><p>Automated solution brushing based on satisficing criteria for one or more axes.</p></li>
</ol>
<p>My hope is that others will add to this over time as new use cases arise so that we can all benefit from improved flexibility &amp; functionality and not have to reinvent the wheel each time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">colormaps</span><span class="p">,</span> <span class="n">cm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">PatchCollection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.patches</span><span class="w"> </span><span class="kn">import</span> <span class="n">Rectangle</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.lines</span><span class="w"> </span><span class="kn">import</span> <span class="n">Line2D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pandas.plotting</span><span class="w"> </span><span class="kn">import</span> <span class="n">parallel_coordinates</span>

<span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">fontsize</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">fig_dir</span> <span class="o">=</span> <span class="s1">&#39;temp_figs/&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;pandas&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="functions-for-flexible-parallel-coordinates-plots">
<h2>Functions for flexible parallel coordinates plots<a class="headerlink" href="#functions-for-flexible-parallel-coordinates-plots" title="Link to this heading">#</a></h2>
<p>First, we need a function for reorganizing &amp; normalizing the input data. This function takes the data as a Pandas DataFrame (“objs”) as well as a list of column names corresponding to the subset of variables you want to plot (“column_axes”) as parallel axes. In addition, “ideal_direction” gives the direction of preference for ideal performance (“top” or “bottom”), while “minmaxs” should be a list with the same length as “column_axes”, with each element either “min” or “max”. For variables labeled “max”, the axis will be oriented with its maximum values pointing in the “ideal_direction”, while variables labeled “min” will point in the opposite direction. After normalization, each column in the dataframe will scale from 0 (which maps to the bottom of the figure) to 1 (which maps to the top of the figure). This function returns the normalized dataframe “objs_reorg”, as well as the lists “tops” and “bottoms” that store the numerical values corresponding to the top and bottom of each axis prior to normalization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### function to normalize data based on direction of preference and whether each objective is minimized or maximized</span>
<span class="c1">###   -&gt; output dataframe will have values ranging from 0 (which maps to bottom of figure) to 1 (which maps to top)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">reorganize_objs</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="p">,</span> <span class="n">minmaxs</span><span class="p">):</span>
    <span class="c1">### if min/max directions not given for each axis, assume all should be maximized</span>
    <span class="k">if</span> <span class="n">minmaxs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">minmaxs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">columns_axes</span><span class="p">)</span>
        
    <span class="c1">### get subset of dataframe columns that will be shown as parallel axes</span>
    <span class="n">objs_reorg</span> <span class="o">=</span> <span class="n">objs</span><span class="p">[</span><span class="n">columns_axes</span><span class="p">]</span>
    
    <span class="c1">### reorganize &amp; normalize data to go from 0 (bottom of figure) to 1 (top of figure), </span>
    <span class="c1">### based on direction of preference for figure and individual axes</span>
    <span class="k">if</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span>
        <span class="n">tops</span> <span class="o">=</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">bottoms</span> <span class="o">=</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">minmax</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">minmaxs</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">minmax</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">])</span> <span class="o">/</span> \
                                        <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bottoms</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">tops</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tops</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">bottoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span> <span class="o">/</span> \
                                         <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span>
        <span class="n">tops</span> <span class="o">=</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">bottoms</span> <span class="o">=</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">minmax</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">minmaxs</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">minmax</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span> <span class="o">/</span> \
                                        <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bottoms</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">tops</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tops</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">bottoms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">])</span> <span class="o">/</span> \
                                        <span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">objs_reorg</span><span class="p">,</span> <span class="n">tops</span><span class="p">,</span> <span class="n">bottoms</span>
</pre></div>
</div>
</div>
</div>
<p>The next function gets the color of a particular solution based on a user-defined color mapping (either continuous or categorical).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### function to get color based on continuous color map or categorical map</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_color</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">color_by_continuous</span><span class="p">,</span> <span class="n">color_palette_continuous</span><span class="p">,</span> 
              <span class="n">color_by_categorical</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color_by_continuous</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">colormaps</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">color_palette_continuous</span><span class="p">)(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color_by_categorical</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">color_dict_categorical</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">color</span>
</pre></div>
</div>
</div>
</div>
<p>Next, there is a function for getting the zorder parameter dictating a particular solution’s order in the stacked plot. Plotted elements with larger zorder values will be stacked in the foreground of the plot, while elements with smaller zorder values will be further in the background and may be covered up. This function calculates the zorder for a solution by binning the normalized values for a user-defined axis into a discrete number of classes, in either ascending or descending order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### function to get zorder value for ordering lines on plot. </span>
<span class="c1">### This works by binning a given axis&#39; values and mapping to discrete classes.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_zorder</span><span class="p">(</span><span class="n">norm_value</span><span class="p">,</span> <span class="n">zorder_num_classes</span><span class="p">,</span> <span class="n">zorder_direction</span><span class="p">):</span>
    <span class="n">xgrid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.001</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">zorder_num_classes</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">zorder_direction</span> <span class="o">==</span> <span class="s1">&#39;ascending&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">norm_value</span> <span class="o">&gt;</span> <span class="n">xgrid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">zorder_direction</span> <span class="o">==</span> <span class="s1">&#39;descending&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">norm_value</span> <span class="o">&lt;</span> <span class="n">xgrid</span><span class="p">)</span>
    
        
</pre></div>
</div>
</div>
</div>
<p>Lastly, here is the general function for creating flexible parallel coordinates plots. It has many optional arguments corresponding to user choices related to color palettes, direction of preference, brushing, aesthetics, etc. The use of these parameters will become clear in the examples in the next section.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### customizable parallel coordinates plot</span>
<span class="k">def</span><span class="w"> </span><span class="nf">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                                <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">minmaxs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                                <span class="n">color_by_continuous</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_palette_continuous</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                                <span class="n">color_by_categorical</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_palette_categorical</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">zorder_by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">zorder_num_classes</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">zorder_direction</span><span class="o">=</span><span class="s1">&#39;ascending&#39;</span><span class="p">,</span> 
                                <span class="n">alpha_base</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">brushing_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alpha_brush</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> 
                                <span class="n">lw_base</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> 
                                <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">save_fig_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    
    <span class="c1">### verify that all inputs take supported values</span>
    <span class="k">assert</span> <span class="n">ideal_direction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">zorder_direction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ascending&#39;</span><span class="p">,</span> <span class="s1">&#39;descending&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">minmaxs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">minmax</span> <span class="ow">in</span> <span class="n">minmaxs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">minmax</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">color_by_continuous</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">color_by_categorical</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">columns_axes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">columns_axes</span> <span class="o">=</span> <span class="n">objs</span><span class="o">.</span><span class="n">columns</span>
    <span class="k">if</span> <span class="n">axis_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">column_axes</span>
    
    <span class="c1">### create figure</span>
    <span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;hspace&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;wspace&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">})</span>

    <span class="c1">### reorganize &amp; normalize objective data</span>
    <span class="n">objs_reorg</span><span class="p">,</span> <span class="n">tops</span><span class="p">,</span> <span class="n">bottoms</span> <span class="o">=</span> <span class="n">reorganize_objs</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="p">,</span> <span class="n">minmaxs</span><span class="p">)</span>

    <span class="c1">### apply any brushing criteria</span>
    <span class="k">if</span> <span class="n">brushing_dict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">satisfice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mf">0.</span>
        <span class="c1">### iteratively apply all brushing criteria to get satisficing set of solutions</span>
        <span class="k">for</span> <span class="n">col_idx</span><span class="p">,</span> <span class="p">(</span><span class="n">threshold</span><span class="p">,</span> <span class="n">operator</span><span class="p">)</span> <span class="ow">in</span> <span class="n">brushing_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">:</span>
                <span class="n">satisfice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">satisfice</span><span class="p">,</span> <span class="n">objs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">:</span>
                <span class="n">satisfice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">satisfice</span><span class="p">,</span> <span class="n">objs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">threshold</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">:</span>
                <span class="n">satisfice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">satisfice</span><span class="p">,</span> <span class="n">objs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">:</span>
                <span class="n">satisfice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">satisfice</span><span class="p">,</span> <span class="n">objs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">)</span>

            <span class="c1">### add rectangle patch to plot to represent brushing</span>
            <span class="n">threshold_norm</span> <span class="o">=</span> <span class="p">(</span><span class="n">threshold</span> <span class="o">-</span> <span class="n">bottoms</span><span class="p">[</span><span class="n">col_idx</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">tops</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">-</span> <span class="n">bottoms</span><span class="p">[</span><span class="n">col_idx</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span> <span class="ow">and</span> <span class="n">minmaxs</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">threshold_norm</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span> <span class="ow">and</span> <span class="n">minmaxs</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">threshold_norm</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span> <span class="ow">and</span> <span class="n">minmaxs</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">threshold_norm</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span> <span class="ow">and</span> <span class="n">minmaxs</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">threshold_norm</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">]:</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">([</span><span class="n">col_idx</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">threshold_norm</span><span class="p">)</span>
                    
            <span class="n">pc</span> <span class="o">=</span> <span class="n">PatchCollection</span><span class="p">([</span><span class="n">rect</span><span class="p">],</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span><span class="n">pc</span><span class="p">)</span>
    
    <span class="c1">### loop over all solutions/rows &amp; plot on parallel axis plot</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">color_by_continuous</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">get_color</span><span class="p">(</span><span class="n">objs_reorg</span><span class="p">[</span><span class="n">columns_axes</span><span class="p">[</span><span class="n">color_by_continuous</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> 
                              <span class="n">color_by_continuous</span><span class="p">,</span> <span class="n">color_palette_continuous</span><span class="p">,</span> 
                              <span class="n">color_by_categorical</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color_by_categorical</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">get_color</span><span class="p">(</span><span class="n">objs</span><span class="p">[</span><span class="n">color_by_categorical</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> 
                              <span class="n">color_by_continuous</span><span class="p">,</span> <span class="n">color_palette_continuous</span><span class="p">,</span> 
                              <span class="n">color_by_categorical</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="p">)</span>
                        
        <span class="c1">### order lines according to ascending or descending values of one of the objectives?</span>
        <span class="k">if</span> <span class="n">zorder_by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">zorder</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">zorder</span> <span class="o">=</span> <span class="n">get_zorder</span><span class="p">(</span><span class="n">objs_reorg</span><span class="p">[</span><span class="n">columns_axes</span><span class="p">[</span><span class="n">zorder_by</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> 
                                <span class="n">zorder_num_classes</span><span class="p">,</span> <span class="n">zorder_direction</span><span class="p">)</span>
            
        <span class="c1">### apply any brushing?</span>
        <span class="k">if</span> <span class="n">brushing_dict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">satisfice</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="n">alpha_base</span>
                <span class="n">lw</span> <span class="o">=</span> <span class="n">lw_base</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alpha</span> <span class="o">=</span> <span class="n">alpha_brush</span>
                <span class="n">lw</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">zorder</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alpha</span> <span class="o">=</span> <span class="n">alpha_base</span>
            <span class="n">lw</span> <span class="o">=</span> <span class="n">lw_base</span>
            
        <span class="c1">### loop over objective/column pairs &amp; plot lines between parallel axes</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">],</span> <span class="n">objs_reorg</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="n">zorder</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">)</span>
            
            
    <span class="c1">### add top/bottom ranges</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">columns_axes</span><span class="p">)):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">tops</span><span class="p">[</span><span class="n">j</span><span class="p">])),</span> <span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">],</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> 
                    <span class="n">zorder</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns_axes</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">bottoms</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span> <span class="o">+</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02</span><span class="p">],</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> 
                        <span class="n">zorder</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>    
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">bottoms</span><span class="p">[</span><span class="n">j</span><span class="p">])),</span> <span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02</span><span class="p">],</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> 
                        <span class="n">zorder</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>    

        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">j</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1">### other aesthetics</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    
    <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="o">-</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ideal_direction</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="o">-</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Direction of preference&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">1.1</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axis_labels</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="o">-</span><span class="mf">0.12</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    

    <span class="c1">### colorbar for continuous legend</span>
    <span class="k">if</span> <span class="n">color_by_continuous</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mappable</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">ScalarMappable</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">color_palette_continuous</span><span class="p">)</span>
        <span class="n">mappable</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">objs</span><span class="p">[</span><span class="n">columns_axes</span><span class="p">[</span><span class="n">color_by_continuous</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> 
                          <span class="n">vmax</span><span class="o">=</span><span class="n">objs</span><span class="p">[</span><span class="n">columns_axes</span><span class="p">[</span><span class="n">color_by_continuous</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="n">cb</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mappable</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> 
                          <span class="n">label</span><span class="o">=</span><span class="n">axis_labels</span><span class="p">[</span><span class="n">color_by_continuous</span><span class="p">],</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> 
                          <span class="n">alpha</span><span class="o">=</span><span class="n">alpha_base</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">colorbar_ticks_continuous</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">colorbar_ticks_continuous</span><span class="p">,</span> <span class="n">colorbar_ticks_continuous</span><span class="p">,</span> 
                                 <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>  
    <span class="c1">### categorical legend</span>
    <span class="k">elif</span> <span class="n">color_by_categorical</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">label</span><span class="p">,</span><span class="n">color</span> <span class="ow">in</span> <span class="n">color_dict_categorical</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">leg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Line2D</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
                              <span class="n">alpha</span><span class="o">=</span><span class="n">alpha_base</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">))</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">leg</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower center&#39;</span><span class="p">,</span> 
                      <span class="n">ncol</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">color_dict_categorical</span><span class="p">)),</span>
                      <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.07</span><span class="p">],</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        
    <span class="c1">### save figure</span>
    <span class="k">if</span> <span class="n">save_fig_filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_fig_filename</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="example-application">
<h2>Example application<a class="headerlink" href="#example-application" title="Link to this heading">#</a></h2>
<p>As an example, I will visualize data from my recent work on multiobjective design of water supply infrastructure partnerships in California. Those interested can find more details in the <a class="reference external" href="https://doi.org/10.21203/rs.3.rs-3143783/v1">in-review preprint</a>, or stay tuned for the final peer-reviewed version. If you want to follow along, you can download the dataset from the Lab Manual repository <a class="reference internal" href="#github.com/reedgroup/reedgroup.github.io/blob/main/docs/FigureLibrary/example_data/objs_wcu_pareto_5objs.csv"><span class="xref myst">here</span></a>.</p>
<p>But the details are not important for the context of this post - the point of this flexible tool is that we could create similar figures for any multivariate dataset! The only requirement is that the data be stored in a Pandas DataFrame with a separate row for each solution/datapoint and a separate column for each objective/variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### get dataset. This is a Pareto set after reevaluation from Hamilton et al, 2023, (In review).</span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;example_data/objs_wcu_pareto_5objs.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>
<span class="n">columns_axes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;n_p&#39;</span><span class="p">,</span><span class="s1">&#39;cwg_p&#39;</span><span class="p">,</span><span class="s1">&#39;ap_p&#39;</span><span class="p">,</span> <span class="s1">&#39;cwg_np&#39;</span><span class="p">,</span><span class="s1">&#39;cog_wp_p90&#39;</span><span class="p">]</span>
<span class="n">axis_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Number of</span><span class="se">\n</span><span class="s1">partners&#39;</span><span class="p">,</span> <span class="s1">&#39;Captured water</span><span class="se">\n</span><span class="s1">gain (GL/yr)&#39;</span><span class="p">,</span> <span class="s1">&#39;Pumping reduction</span><span class="se">\n</span><span class="s1">(GL/yr)&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;Captured water</span><span class="se">\n</span><span class="s1">gain for non-</span><span class="se">\n</span><span class="s1">partners (GL/yr)&#39;</span><span class="p">,</span><span class="s1">&#39;Cost of gains for</span><span class="se">\n</span><span class="s1">worst-off partner</span><span class="se">\n</span><span class="s1">($/ML)&#39;</span><span class="p">]</span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">objs</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">columns_axes</span><span class="p">]</span>

<span class="c1">### as in paper, map all costs &gt;1000 to $1000 for visual clarity</span>
<span class="n">objs</span><span class="p">[</span><span class="s1">&#39;cog_wp_p90&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">objs</span><span class="p">[</span><span class="s1">&#39;cog_wp_p90&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">objs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_14602/3983194004.py:2: ParserWarning: Falling back to the &#39;python&#39; engine because the &#39;c&#39; engine does not support regex separators (separators &gt; 1 char and different from &#39;\s+&#39; are interpreted as regex); you can avoid this warning by specifying engine=&#39;python&#39;.
  objs = pd.read_csv(&#39;example_data/objs_wcu_pareto_5objs.csv&#39;, delimiter=&#39;, &#39;)
/tmp/ipykernel_14602/3983194004.py:9: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  objs[&#39;cog_wp_p90&#39;].loc[objs[&#39;cog_wp_p90&#39;] &gt; 1000] = 1000
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>n_p</th>
      <th>cwg_p</th>
      <th>ap_p</th>
      <th>cwg_np</th>
      <th>cog_wp_p90</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3</td>
      <td>65.286506</td>
      <td>25.517769</td>
      <td>23.581953</td>
      <td>119.515925</td>
    </tr>
    <tr>
      <th>1</th>
      <td>14</td>
      <td>83.519969</td>
      <td>60.988011</td>
      <td>10.534398</td>
      <td>261.605829</td>
    </tr>
    <tr>
      <th>2</th>
      <td>16</td>
      <td>88.828797</td>
      <td>64.907146</td>
      <td>5.730221</td>
      <td>1000.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>17</td>
      <td>92.460681</td>
      <td>68.455763</td>
      <td>-9.325362</td>
      <td>1000.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>12</td>
      <td>92.651047</td>
      <td>58.407270</td>
      <td>13.067463</td>
      <td>1000.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>369</th>
      <td>8</td>
      <td>86.194462</td>
      <td>51.207598</td>
      <td>17.240311</td>
      <td>218.698388</td>
    </tr>
    <tr>
      <th>370</th>
      <td>9</td>
      <td>106.223722</td>
      <td>47.046693</td>
      <td>-4.389908</td>
      <td>290.474609</td>
    </tr>
    <tr>
      <th>371</th>
      <td>11</td>
      <td>77.769762</td>
      <td>40.167874</td>
      <td>20.107271</td>
      <td>253.288096</td>
    </tr>
    <tr>
      <th>372</th>
      <td>11</td>
      <td>89.655118</td>
      <td>53.916342</td>
      <td>15.455185</td>
      <td>225.967740</td>
    </tr>
    <tr>
      <th>373</th>
      <td>6</td>
      <td>70.471262</td>
      <td>22.766874</td>
      <td>26.831650</td>
      <td>196.743411</td>
    </tr>
  </tbody>
</table>
<p>374 rows × 5 columns</p>
</div></div></div>
</div>
<p>Now to create a nice looking parallel coordinates plot, all we have to do is call the function above. We can provide more or less customization based on the many optional parameters. Here is a basic version that shows the five objectives as five different vertical axes. Each of the 374 solutions in this dataset are represented by a different set of lines across the five axes. The solutions are colored by a continuous color palette based on their performance on column 0. They are also stacked with zorder based on column 0. The direction of preference is set to “top”. Notice that the first 4 objectives are to be maximized (with the largest values at the top of the figure), while the last objective is to be minimized (with the largest value at the bottom). The figure is saved to a png file for easy access. Parameters like fontsize, figure size, transparency, and line width can also be easily specified.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### basic parallel axis plot</span>
<span class="n">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="n">objs</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">axis_labels</span><span class="p">,</span> 
                            <span class="n">color_by_continuous</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">zorder_by</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                            <span class="n">alpha_base</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">lw_base</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">minmaxs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">],</span> 
                            <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                            <span class="n">save_fig_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fig_dir</span><span class="si">}</span><span class="s1">/paraxis1.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c32198c4774c35cba684a812b2bd2c61587e317adacf4696b67b1ba24e609ee6.png" src="../_images/c32198c4774c35cba684a812b2bd2c61587e317adacf4696b67b1ba24e609ee6.png" />
</div>
</div>
<p>Here is an example where we flip the direction of preference to be “bottom” and switch the coloration and zorder to be based on column 3 rather than column 0. The zorder ranking is also switch to be descending rather than ascending.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### flip direction of preference &amp; color/order by axis 3 (note zero-indexing; Captured Water Gain for Non-partners)</span>
<span class="n">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="n">objs</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">axis_labels</span><span class="p">,</span> 
                            <span class="n">color_by_continuous</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
                            <span class="n">zorder_by</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">zorder_direction</span> <span class="o">=</span> <span class="s1">&#39;descending&#39;</span><span class="p">,</span>
                            <span class="n">alpha_base</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">lw_base</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">minmaxs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">],</span> 
                            <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="o">-</span><span class="mf">12.5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">12.5</span><span class="p">,</span><span class="mi">25</span><span class="p">],</span>
                            <span class="n">save_fig_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fig_dir</span><span class="si">}</span><span class="s1">/paraxis2.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0fc98914cc1456bc3547b6c7d604a521bab7c5c3d5faf756a0ce3415d5838574.png" src="../_images/0fc98914cc1456bc3547b6c7d604a521bab7c5c3d5faf756a0ce3415d5838574.png" />
</div>
</div>
<p>Now let’s add some brushing. Brushing is the act of filtering out solutions that fail to meet certain satisficing criteria. In the figure below, I filter out all solutions that fail to meet one or more of these 3 criteria: (1) the number of partners is at least 16; (2) The Captured water gains for non-partners is non-negative; and (3) The cost of gains for the worst-off partner is less than $500/ML. These criterion are added in a straightforward way using the “brushing_dict” dictionary format, as demonstrated below. The function will automatically add grey boxes over the filtered-out region for each brushing criterion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### basic parallel axis plot with brushing. Grey rectangles cover filtered-out solutions based on user-defined brushing criteria.</span>
<span class="n">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="n">objs</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">axis_labels</span><span class="p">,</span> 
                            <span class="n">color_by_continuous</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">zorder_by</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                            <span class="n">alpha_base</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">lw_base</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">minmaxs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">],</span> 
                            <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                            <span class="n">brushing_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">:</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)},</span>
                            <span class="n">save_fig_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fig_dir</span><span class="si">}</span><span class="s1">/paraxis3.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/96b1c984ca9cd967d2432d05b3558991b8e674331103fae91ce50e7e71eb5f16.png" src="../_images/96b1c984ca9cd967d2432d05b3558991b8e674331103fae91ce50e7e71eb5f16.png" />
</div>
</div>
<p>This function also has the ability to color solutions based on a categorical variable rather than a continuous palette. The following example defines a new categorical variable by binning the continuous cost variable into three discrete classes. It then defines a color dictionary that assigns a different color to each possible value of the categorical variable. The legend is automatically created based on the color dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Now color by a categorical variable that isnt one of the axes</span>
<span class="n">color_dict_categorical</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;HighCost&#39;</span><span class="p">:</span> <span class="s1">&#39;firebrick&#39;</span><span class="p">,</span> <span class="s1">&#39;MidCost&#39;</span><span class="p">:</span> <span class="s1">&#39;goldenrod&#39;</span><span class="p">,</span> <span class="s1">&#39;LowCost&#39;</span><span class="p">:</span> <span class="s1">&#39;cornflowerblue&#39;</span><span class="p">}</span>
<span class="n">objs_with_categorical</span> <span class="o">=</span> <span class="n">objs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">objs_with_categorical</span><span class="p">[</span><span class="s1">&#39;Set&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;HighCost&#39;</span> <span class="k">if</span> <span class="n">c</span><span class="o">&gt;=</span><span class="mi">1000</span> <span class="k">else</span> <span class="s1">&#39;MidCost&#39;</span> <span class="k">if</span> <span class="n">c</span><span class="o">&gt;=</span><span class="mi">200</span> <span class="k">else</span> <span class="s1">&#39;LowCost&#39;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">[</span><span class="s1">&#39;cog_wp_p90&#39;</span><span class="p">]]</span>

<span class="n">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs_with_categorical</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="n">columns_axes</span><span class="p">,</span> <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">axis_labels</span><span class="p">,</span> 
                            <span class="n">zorder_by</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                            <span class="n">alpha_base</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">lw_base</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">minmaxs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">],</span> 
                            <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                            <span class="n">color_by_categorical</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="o">=</span><span class="n">color_dict_categorical</span><span class="p">,</span>
                            <span class="n">save_fig_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fig_dir</span><span class="si">}</span><span class="s1">/paraxis4.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9f4024c8e698b7596b6c47a654c3267c39e19eab3ae1fb5e954abd34b589c424.png" src="../_images/9f4024c8e698b7596b6c47a654c3267c39e19eab3ae1fb5e954abd34b589c424.png" />
</div>
</div>
<p>Finally, here is an example that combines brushing with categorical coloration. This shows that no LowCost or HighCost solutions are able to meet the given satisficing criteria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Now color by a categorical variable that isnt one of the axes, with brushing</span>
<span class="n">custom_parallel_coordinates</span><span class="p">(</span><span class="n">objs_with_categorical</span><span class="p">,</span> <span class="n">columns_axes</span><span class="o">=</span><span class="n">columns_axes</span><span class="p">,</span> <span class="n">axis_labels</span> <span class="o">=</span> <span class="n">axis_labels</span><span class="p">,</span> 
                            <span class="n">zorder_by</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ideal_direction</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
                            <span class="n">alpha_base</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">lw_base</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span>
                            <span class="n">minmaxs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">],</span> 
                            <span class="n">colorbar_ticks_continuous</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                            <span class="n">color_by_categorical</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="p">,</span> <span class="n">color_dict_categorical</span><span class="o">=</span><span class="n">color_dict_categorical</span><span class="p">,</span>
                            <span class="n">brushing_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">:</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)},</span>
                            <span class="n">save_fig_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fig_dir</span><span class="si">}</span><span class="s1">/paraxis5.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ac2b2feda113397b5c6e76ffbeb87402d1510d31fb486fb746e25e0fd180d4b9.png" src="../_images/ac2b2feda113397b5c6e76ffbeb87402d1510d31fb486fb746e25e0fd180d4b9.png" />
</div>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>I hope this serves as a useful baseline for other Reed Group members who regularly create custom parallel coordinates plots. It would be great to see others add to this over time as new use cases arise so that we can all benefit from improved flexibility &amp; functionality and not have to regularly reinvent the wheel. If you have ideas to improve these functions or add new functionality, feel free to open a GitHub Issue or contribute directly to <a class="reference external" href="https://github.com/reedgroup/reedgroup.github.io/blob/main/docs/FigureLibrary/ParallelCoordinatesPlots.ipynb">this page</a> in the Reed Group Lab Manual repository.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./FigureLibrary"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="FigureLibrary.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Figure Library</p>
      </div>
    </a>
    <a class="right-next"
       href="synthetic_generation_diagnostics.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Synthetic Streamflow Diagnostic Figure Library</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions-for-flexible-parallel-coordinates-plots">Functions for flexible parallel coordinates plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-application">Example application</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Reed Group at Cornell CEE
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>